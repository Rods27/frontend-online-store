{"ast":null,"code":"var _jsxFileName = \"/home/rodsubuntu/vscode/online-store-website/src/components/Search.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport * as api from '../services/api';\nimport ProductCard from './ProductCard';\nimport Category from '../Category';\nimport ToogleCart from './ToogleCart';\nimport { connect } from 'react-redux';\nimport ProductDetails from '../pages/ProductDetails';\n\nclass Search extends Component {\n  constructor() {\n    super();\n    this.state = {\n      searchInput: '',\n      categoryInput: '',\n      products: {},\n      seachDone: false,\n      x: 0\n    };\n    this.goLeft = this.goLeft.bind(this);\n    this.goRight = this.goRight.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.toogleInOut = this.toogleInOut.bind(this);\n    this.searchForCategory = this.searchForCategory.bind(this);\n    this.changeOverflow = this.changeOverflow.bind(this);\n  }\n\n  handleChange({\n    target\n  }) {\n    this.setState({\n      searchInput: target.value\n    });\n  }\n\n  changeOverflow() {\n    const productContainer = document.querySelector('.product-container');\n    const goUp = document.querySelector('#go-up-product');\n    const goDown = document.querySelector('#go-down-product');\n\n    if (productContainer.style.overflow === \"visible\") {\n      goUp.style.display = \"inline-block\";\n      goDown.style.display = \"inline-block\";\n      productContainer.style.overflow = 'hidden';\n    } else {\n      goUp.style.display = \"none\";\n      goDown.style.display = \"none\";\n      productContainer.style.overflow = 'visible';\n      productContainer.style.height = \"100%\";\n    }\n  }\n\n  goLeft() {\n    const additionalX = 105;\n    const mintranslateX = 0;\n    const maxtranslateX = 735;\n    const {\n      x\n    } = this.state;\n    if (x === mintranslateX) this.setState({\n      x: x - maxtranslateX\n    });else this.setState({\n      x: x + additionalX\n    });\n  }\n\n  goRight() {\n    const additionalX = 105;\n    const maxtranslateX = 735;\n    const {\n      x\n    } = this.state;\n    if (x === -maxtranslateX) this.setState({\n      x: x + maxtranslateX\n    });else this.setState({\n      x: x - additionalX\n    });\n  }\n\n  toogleInOut() {\n    const classList = document.querySelector('.toogle-shoppingcart-container').classList;\n\n    if (classList.length < 2) {\n      classList.add('toogle-in');\n    } else {\n      classList.remove('toogle-in');\n    }\n  }\n\n  async handleClick() {\n    const {\n      searchInput,\n      categoryInput\n    } = this.state;\n    const selectedInput = document.getElementById(`${categoryInput}`);\n\n    if (searchInput !== '') {\n      this.setState({\n        seachDone: true\n      }, async () => {\n        const productsList = await api.getProductsFromCategoryAndQuery(categoryInput, searchInput);\n        this.setState({\n          products: productsList\n        });\n      });\n      this.setState({\n        searchInput: '',\n        categoryInput: ''\n      });\n\n      if (selectedInput && selectedInput !== '') {\n        selectedInput.checked = false;\n      }\n    }\n  }\n\n  async searchForCategory(categoryId) {\n    const {\n      searchInput\n    } = this.state;\n    const resultado = await api.getProductsFromCategoryAndQuery(categoryId, searchInput);\n    this.setState({\n      products: resultado,\n      categoryInput: categoryId,\n      seachDone: true,\n      searchInput: ''\n    });\n  }\n\n  render() {\n    const {\n      searchInput,\n      products,\n      seachDone,\n      x\n    } = this.state;\n    const {\n      addItemCart,\n      cartList,\n      totalPrice,\n      globalToogle,\n      globalDetails\n    } = this.props;\n    const zero = 0;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"master-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"searchForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-search search-button\",\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"search-input\",\n      id: \"home-initial-input\",\n      type: \"text\",\n      \"data-testid\": \"query-input\",\n      placeholder: \"Digite aqui o termo da sua busca\",\n      value: searchInput,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-cart-plus\",\n      onClick: () => this.toogleInOut(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    })))), globalToogle && /*#__PURE__*/React.createElement(ProductDetails, {\n      product: globalDetails,\n      addItemCart: addItemCart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 26\n      }\n    }), /*#__PURE__*/React.createElement(ToogleCart, {\n      cartList: cartList,\n      totalPrice: totalPrice,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"center-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Category, {\n      searchForCategory: this.searchForCategory,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, !seachDone && /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        paddingRight: '200px',\n        fontSize: '20px'\n      },\n      \"data-testid\": \"home-initial-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, \"Digite algum termo de pesquisa ou escolha uma categoria.\"), Object.keys(products).length !== zero && seachDone && products.results.map(item => /*#__PURE__*/React.createElement(ProductCard, {\n      x: x,\n      addItemCart: addItemCart,\n      product: item,\n      key: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }\n    }))), Object.keys(products).length !== zero && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"controls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: \"swap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-sync-alt\",\n      onClick: this.changeOverflow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      id: \"go-up-product\",\n      onClick: this.goLeft,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-chevron-up\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      id: \"go-down-product\",\n      onClick: this.goRight,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-chevron-down\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 21\n      }\n    }))))));\n  }\n\n}\n\nSearch.propTypes = {\n  addItemCart: PropTypes.string.isRequired\n};\n\nconst mapStateToProps = state => ({\n  globalToogle: state.details.toogle,\n  globalDetails: state.details.product\n});\n\nexport default connect(mapStateToProps)(Search);","map":{"version":3,"sources":["/home/rodsubuntu/vscode/online-store-website/src/components/Search.js"],"names":["React","Component","PropTypes","api","ProductCard","Category","ToogleCart","connect","ProductDetails","Search","constructor","state","searchInput","categoryInput","products","seachDone","x","goLeft","bind","goRight","handleClick","handleChange","toogleInOut","searchForCategory","changeOverflow","target","setState","value","productContainer","document","querySelector","goUp","goDown","style","overflow","display","height","additionalX","mintranslateX","maxtranslateX","classList","length","add","remove","selectedInput","getElementById","productsList","getProductsFromCategoryAndQuery","checked","categoryId","resultado","render","addItemCart","cartList","totalPrice","globalToogle","globalDetails","props","zero","paddingRight","fontSize","Object","keys","results","map","item","id","propTypes","string","isRequired","mapStateToProps","details","toogle","product"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport * as api from '../services/api';\nimport ProductCard from './ProductCard';\nimport Category from '../Category';\nimport ToogleCart from './ToogleCart'\nimport { connect } from 'react-redux';\nimport ProductDetails from '../pages/ProductDetails';\n\nclass Search extends Component {\n  constructor() {\n    super();\n    this.state = {\n      searchInput: '',\n      categoryInput: '',\n      products: {},\n      seachDone: false,\n      x: 0,\n    };\n    this.goLeft = this.goLeft.bind(this);\n    this.goRight = this.goRight.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.toogleInOut = this.toogleInOut.bind(this);\n    this.searchForCategory = this.searchForCategory.bind(this);\n    this.changeOverflow = this.changeOverflow.bind(this);\n  }\n\n  handleChange({ target }) {\n    this.setState({ searchInput: target.value });\n  }\n\n  changeOverflow() {\n    const productContainer = document.querySelector('.product-container')\n    const goUp = document.querySelector('#go-up-product')\n    const goDown = document.querySelector('#go-down-product')\n    if (productContainer.style.overflow === \"visible\") {\n      goUp.style.display = \"inline-block\"\n      goDown.style.display = \"inline-block\"\n      productContainer.style.overflow = 'hidden' \n    } else {\n      goUp.style.display = \"none\"\n      goDown.style.display = \"none\"\n      productContainer.style.overflow = 'visible' \n      productContainer.style.height = \"100%\"\n    }\n  }\n\n  goLeft() {\n    const additionalX = 105;\n    const mintranslateX = 0;\n    const maxtranslateX = 735;\n    const { x } = this.state;\n    if (x === mintranslateX) this.setState({ x: x - maxtranslateX });\n    else this.setState({ x: x + additionalX });\n  }\n\n  goRight() {\n    const additionalX = 105;\n    const maxtranslateX = 735;\n    const { x } = this.state;\n    if (x === -maxtranslateX) this.setState({ x: x + maxtranslateX });\n    else this.setState({ x: x - additionalX });\n  }\n\n  toogleInOut() {\n    const classList = document.querySelector('.toogle-shoppingcart-container').classList\n    if (classList.length < 2 ) {\n      classList.add('toogle-in');\n    } else {\n      classList.remove('toogle-in');\n    }\n  }\n\n  async handleClick() {\n    const { searchInput, categoryInput } = this.state;\n    const selectedInput = document.getElementById(`${categoryInput}`)\n    if (searchInput !== '') {\n      this.setState({ seachDone: true }, async () => {\n        const productsList = await\n        api.getProductsFromCategoryAndQuery(categoryInput, searchInput);\n        this.setState({ products: productsList });\n      });\n      this.setState({searchInput: '', categoryInput: ''})\n      if (selectedInput && selectedInput !== '') {\n        selectedInput.checked = false\n      }\n    }\n  }\n\n  async searchForCategory(categoryId) {\n    const { searchInput } = this.state;\n    const resultado = await api.getProductsFromCategoryAndQuery(categoryId, searchInput);\n    this.setState({\n      products: resultado,\n      categoryInput: categoryId,\n      seachDone: true,\n      searchInput: '',\n    });\n  }\n\n\n  render() {\n    const { searchInput, products, seachDone, x} = this.state;\n    const { addItemCart, cartList, totalPrice, globalToogle, globalDetails } = this.props;\n    const zero = 0;\n    return (\n      <div className=\"master-container\">\n        <header className=\"header\">\n          <div className=\"form-div\">\n            <form className=\"searchForm\">\n              <i class=\"fas fa-search search-button\"\n                onClick={ this.handleClick }\n              ></i>\n              <input\n                className=\"search-input\"\n                id=\"home-initial-input\"\n                type=\"text\"\n                data-testid=\"query-input\"\n                placeholder=\"Digite aqui o termo da sua busca\"\n                value={ searchInput }\n                onChange={ this.handleChange }\n              />\n              {/* <Link data-testid=\"shopping-cart-button\" to=\"/ShoppingCart\"> */}\n                {/* https://fontawesome.com/icons/cart-plus?style=solid */}\n                <i class=\"fas fa-cart-plus\" onClick={ () => this.toogleInOut() }></i>\n              {/* </Link> */}\n            </form>\n          </div>\n        </header>\n        {globalToogle && <ProductDetails product={globalDetails} addItemCart={ addItemCart }/>}\n        <ToogleCart cartList={ cartList } totalPrice={ totalPrice } />\n        <div className=\"center-container\">\n          <Category\n            searchForCategory={ this.searchForCategory }\n          />\n          <div className=\"search-container\">\n            <div className=\"product-container\">\n              {!seachDone && (\n                <p\n                  style={{paddingRight: '200px', fontSize: '20px'}}\n                  data-testid=\"home-initial-message\"\n                >\n                  Digite algum termo de pesquisa ou escolha uma categoria.\n                </p>\n              )}\n              {Object.keys(products).length !== zero\n              && seachDone\n              && products.results.map((item) => (\n                <ProductCard\n                  x={ x }\n                  addItemCart={ addItemCart }\n                  product={ item }\n                  key={ item.id }\n                />\n              ))}\n            </div>\n            {Object.keys(products).length !== zero && \n              <div className=\"controls\">\n                <button id=\"swap\">\n                  <i class=\"fas fa-sync-alt\" onClick= { this.changeOverflow } ></i>\n                </button>\n                <button type=\"button\" id=\"go-up-product\" onClick={ this.goLeft }>\n                    <i className=\"fas fa-chevron-up\" />\n                </button>\n                <button type=\"button\" id=\"go-down-product\" onClick={ this.goRight }>\n                    <i className=\"fas fa-chevron-down\" />\n                </button>\n              </div>\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nSearch.propTypes = { addItemCart: PropTypes.string.isRequired };\n\nconst mapStateToProps = (state) => ({\n  globalToogle: state.details.toogle,\n  globalDetails: state.details.product,\n});\n\nexport default connect(mapStateToProps)(Search);\n"]},"metadata":{},"sourceType":"module"}