{"ast":null,"code":"var _jsxFileName = \"/home/rodsubuntu/vscode/online-store-website/src/components/Search.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport * as api from '../services/api';\nimport ProductCard from './ProductCard';\nimport Category from '../Category';\nimport search from '../img/search.png';\n\nclass Search extends Component {\n  constructor() {\n    super();\n    this.handleClick = this.handleClick.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleCategory = this.handleCategory.bind(this);\n    this.handleClickCategory = this.handleClickCategory.bind(this);\n    this.state = {\n      searchInput: '',\n      categoryInput: '',\n      products: {},\n      seachDone: false\n    };\n  }\n\n  handleChange({\n    target\n  }) {\n    this.setState({\n      searchInput: target.value\n    });\n  }\n\n  async handleClick() {\n    const {\n      searchInput,\n      categoryInput\n    } = this.state;\n    this.setState({\n      seachDone: true\n    }, async () => {\n      const productsList = await api.getProductsFromCategoryAndQuery(categoryInput, searchInput);\n      this.setState({\n        products: productsList\n      });\n    });\n  }\n\n  handleClickCategory(categoryId) {\n    this.setState({\n      categoryInput: categoryId,\n      seachDone: true\n    });\n  }\n\n  async handleCategory(category) {\n    const {\n      searchInput\n    } = this.state;\n    const resultado = await api.getProductsFromCategoryAndQuery(category, searchInput);\n    this.setState({\n      products: resultado\n    });\n  }\n\n  render() {\n    const {\n      searchInput,\n      products,\n      seachDone\n    } = this.state;\n    const {\n      addItemCart\n    } = this.props;\n    const zero = 0;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"searchForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-search search-button\",\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"image\",\n      className: \"search-button\",\n      src: search,\n      \"data-testid\": \"query-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"search-input\",\n      id: \"home-initial-input\",\n      type: \"text\",\n      \"data-testid\": \"query-input\",\n      placeholder: \"Digite aqui o termo da sua busca\",\n      value: searchInput,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      \"data-testid\": \"shopping-cart-button\",\n      to: \"/ShoppingCart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-cart-plus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"center-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Category, {\n      handleCategory: this.handleCategory,\n      handleClickCategory: this.handleClickCategory,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, !seachDone && /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"home-initial-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, \"Digite algum termo de pesquisa ou escolha uma categoria.\"), Object.keys(products).length !== zero && seachDone && products.results.map(item => /*#__PURE__*/React.createElement(ProductCard, {\n      addItemCart: addItemCart,\n      product: item,\n      key: item.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }))))));\n  }\n\n}\n\nSearch.propTypes = {\n  addItemCart: PropTypes.string.isRequired\n};\nexport default Search;","map":{"version":3,"sources":["/home/rodsubuntu/vscode/online-store-website/src/components/Search.js"],"names":["React","Component","Link","PropTypes","api","ProductCard","Category","search","Search","constructor","handleClick","bind","handleChange","handleCategory","handleClickCategory","state","searchInput","categoryInput","products","seachDone","target","setState","value","productsList","getProductsFromCategoryAndQuery","categoryId","category","resultado","render","addItemCart","props","zero","Object","keys","length","results","map","item","title","propTypes","string","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport * as api from '../services/api';\nimport ProductCard from './ProductCard';\nimport Category from '../Category';\nimport search from '../img/search.png'\n\nclass Search extends Component {\n  constructor() {\n    super();\n\n    this.handleClick = this.handleClick.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleCategory = this.handleCategory.bind(this);\n    this.handleClickCategory = this.handleClickCategory.bind(this);\n\n    this.state = {\n      searchInput: '',\n      categoryInput: '',\n      products: {},\n      seachDone: false,\n    };\n  }\n\n  handleChange({ target }) {\n    this.setState({ searchInput: target.value });\n  }\n\n  async handleClick() {\n    const { searchInput, categoryInput } = this.state;\n\n    this.setState({ seachDone: true }, async () => {\n      const productsList = await\n      api.getProductsFromCategoryAndQuery(categoryInput, searchInput);\n      this.setState({ products: productsList });\n    });\n  }\n\n  handleClickCategory(categoryId) {\n    this.setState({\n      categoryInput: categoryId,\n      seachDone: true,\n    });\n  }\n\n  async handleCategory(category) {\n    const { searchInput } = this.state;\n    const resultado = await api.getProductsFromCategoryAndQuery(category, searchInput);\n    this.setState({\n      products: resultado,\n    });\n  }\n\n  render() {\n    const { searchInput, products, seachDone } = this.state;\n    const { addItemCart } = this.props;\n    const zero = 0;\n    return (\n      <div>\n        <header className=\"header\">\n          <div className=\"form-div\">\n            <form className=\"searchForm\">\n              <i class=\"fas fa-search search-button\"\n                onClick={ this.handleClick }\n              ></i>\n              <input\n                type=\"image\"\n                className=\"search-button\"\n                src={search}\n                data-testid=\"query-button\"\n                \n              />\n              <input\n                className=\"search-input\"\n                id=\"home-initial-input\"\n                type=\"text\"\n                data-testid=\"query-input\"\n                placeholder=\"Digite aqui o termo da sua busca\"\n                value={ searchInput }\n                onChange={ this.handleChange }\n              />\n                <Link data-testid=\"shopping-cart-button\" to=\"/ShoppingCart\">\n                {/* https://fontawesome.com/icons/cart-plus?style=solid */}\n                <i class=\"fas fa-cart-plus\"></i>\n              </Link>\n            </form>\n          </div>\n        </header>\n        <div className=\"center-container\">\n          <Category\n            handleCategory={ this.handleCategory }\n            handleClickCategory={ this.handleClickCategory }\n          />\n          <div className=\"search-container\">\n            <div className=\"product-container\">\n              {!seachDone && (\n                <p data-testid=\"home-initial-message\">\n                  Digite algum termo de pesquisa ou escolha uma categoria.\n                </p>\n              )}\n              {Object.keys(products).length !== zero\n              && seachDone\n              && products.results.map((item) => (\n                <ProductCard\n                  addItemCart={ addItemCart }\n                  product={ item }\n                  key={ item.title }\n                />\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nSearch.propTypes = { addItemCart: PropTypes.string.isRequired };\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}